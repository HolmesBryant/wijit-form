<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Wijit-Form Web Component</title>
    <link rel="stylesheet" href="/styles.css">
    <script type="module" src="wijit-form.js"></script>
    <script type="module" src="wijit-icon01.js"></script>
    <script type="module" src="sliding-doors.js"></script>

    <!-----------------------------------------
     You can change the colors of the form by changing the values of these css variables
    ------------------------------------------->
    <style>
        :root {
            --bg1: rgb(250,250,250);
            --bg2: rgb(245,245,245);
            --bg3: white;
            --text: rgb(60,60,60);
            --focused: paleturquoise;
            --border: silver;
            --selected: lightgray ;
            --fail: hsl(6, 93%, 80%);
            --pass: hsl(112, 70%, 75%);
            --primary: dodgerblue;
            --secondary: aliceblue ;

            @media (prefers-color-scheme: dark) {
                --text: rgb(240,240,240);
                --bg1: rgb(20,20,20);
                --bg2: rgb(40,40,40);
                --bg3: rgb(60,60,60);
                --border: dimgray;
                --primary: transparent;
            }

        }

        wijit-form {
            /**** Backgrounds ****/

            button
            { background-color: var(--primary); }

            input,
            select,
            textarea
            { background-color: var(--bg3); }

            /**** Borders ****/

            button,
            input,
            fieldset,
            select,
            textarea,
            .error,
            .success
            {
                border: 1px solid var(--border);
                border-radius: .5rem;
            }

            /**** Text ****/

            label.required:after
            { color: var(--fail) }

            button,
            input,
            fieldset,
            label,
            legend,
            select,
            textarea
            {
                color: var(--text);
                font-size: 1rem;
            }

            label.required
            { font-size: small }

            label,
            legend
            { font-weight:bold; }

            .error,
            .success
            { text-align: center; }

            /**** Shadows ****/
            button:hover,
            input[type="submit"]:hover,
            input[type="reset"]:hover
            { box-shadow: 2px 2px 5px black; }

            button:active,
            input[type="submit"]:active,
            input[type="reset"]:active
            { box-shadow: none; }

            /**** Cursor ****/

            input[type="color"],
            input[type="range"],
            label,
            button,
            select
            { cursor: pointer; }

            [disabled]
            { cursor: not-allowed; }

            /**** Structure ****/

            button,
            input,
            option,
            select,
            textarea
            {
                min-height: 35px;
                min-width: 35px;
                padding: .5rem;
            }

            fieldset
            { display: inline-block; }

            fieldset label
            { display: block; }

            fieldset > select,
            fieldset > input
            { width: 100%; }

            button,
            label
            {
                display: inline-block;
                margin: .5rem;
            }

            label.required:after
            {
                content: "Required";
                color: var(--fail);
                vertical-align: super;
            }

            textarea
            {
                height: 100%;
                width: 100%;
            }

            .error,
            .success
            { padding: 1rem; }
        }
    </style>
</head>
<body>
    <details>
        <summary><h1>Wijit Form Web Component</h1></summary>
        <p>This component serves simply as a convenience to make styling forms and adding waiting effects and confirmation/error messages less time consuming</p>



        <h2>Attributes</h2>
        <div>
            <ul>
                <li><b>fetch_options (default: null)</b> Acceptable values: [Any valid fetch option from: <a target="_blank" href="https://developer.mozilla.org/en-US/docs/Web/API/fetch#options">https://developer.mozilla.org/en-US/docs/Web/API/fetch#options</a>]. For example, if you are submitting the form to the same server, you might want to add <code>{"mode":"same-origin"}</code>. You don't have to add the double quotes around every value, but it cuts down a little on processing if you do. The component will first try to parse it as JSON, then if it fails, it will add double quotes in an attempt to make it valid JSON and parse it again.</li>

                <li><b>waiting_attr (default: "active")</b> Acceptable values: [any string].</li>

                <li><b>waiting_delay (default: "500")</b> Acceptable values: [any integer]. This is the number of milliseconds that will pass between receiving a response from the server after the form is submitted, and showing the confirmation message. Some "waiting" effects may need a little time to finish doing their thing before removing them.</li>
            </ul>
        </div>
    </details>

    <aside>
        <h2>Demo</h2>
        <div id="settings">
            <form id="settings" method="dialog">
                <fieldset>
                    <legend>fetch_options</legend>
                    <textarea
                        oninput="change(event, 'options')"
                        placeholder="Example: {headers:{Accept:'text/html'}}"></textarea>
                </fieldset>

                <fieldset>
                    <legend></legend>
                    <label>
                        <b>waiting_attr</b><br>
                        <input disabled name="waiting_attr" value="auto">
                    </label>
                    <p> </p>
                    <label>
                        <b>waiting_delay</b> <small>(milliseconds)</small><br>
                        <input type="number" value="500" oninput="change(event, 'waiting_delay)">
                    </label>
                </fieldset>

                <fieldset>
                    <legend>style</legend>
                    <label>
                    <input type="color" name="tintOuter" onchange="change(event, 'tintOuter')"> --tintOuter
                    </label>
                    <label>
                    <input type="color" name="tintMiddle" onchange="change(event, 'tintMiddle')"> --tintMiddle
                    </label>
                    <label>
                    <input type="color" name="tintInner" onchange="change(event, 'tintInner')"> --tintInner
                    </label>
                </fieldset>
            </form>
        </div>
    </aside>

    <section>
        <article>
            <h3>Basic Example</h3>
            <wijit-form return-type="html">
                <form action="/test-server.php">
                    <label for="ex1-name">Name</label>
                    <input id="ex1-name" name="name">

                    <label for="ex1-email">Email</label>
                    <input type="email" id="ex1-email" name="email">

                    <button>Spam Me!</button>
                </form>
            </wijit-form>
        </article>
    </section>

    <section>
        <article>
            <h3>With User Supplied "Waiting", "Success" and "Error" messages</h3>
            <wijit-form return-type="json">
                <form action="/test-server.php">
                    <label for="ex2-name">Name</label>
                    <input id="ex2-name" name="name" value="Foo">

                    <label for="ex2-email">Email</label>
                    <input type="email" name="email">

                    <button>Spam Me!</button></form>
                </form>

                <wijit-icon01 animate color="lime" slot="waiting"></wijit-icon01>

                <div slot="success">
                    <p>Hi {{data.name}}, Thank you for your information.</p>
                </div>

                <div slot="error">
                    <h2>Ummm, something went wrong.</h2>
                    <p>Your submission was not processed.</p>
                </div>
            </wijit-form>
        </article>
    </section>

    <!-- <section>
        <article>
            <wijit-form waiting_attr="active" waiting_delay="500" options="{headers:{Accept:'text/html'}}">
                <form id="test-form" method="post" action="/test-server.php">

                    <div class="flex column">
                        <label for="name">Name</label>
                        <input required type="text" id="name" name="Name" autocomplete="_name" value="Foo Barr">
                    </div>

                    <div class="flex column">
                        <label class="required" for="email">Email</label>
                        <input required type="email" id="email" name="Email" autocomplete="_email" value="foo@barr.com">
                    </div>

                    <div class="flex row-reverse start">
                        <label for="checkbox">Checkbox</label>
                        <input type="checkbox" name="Checkbox" id="checkbox" value="Yes" aria-role="checkbox" tabindex="0">
                    </div>

                    <fieldset>
                        <legend>Choose One</legend>

                        <div class="flex row-reverse start">
                            <label for="ochoice1">One</label>
                            <input checked type="radio" name="Other Choice" id="ochoice1" value="One" aria-role="radio" tabindex="0">
                        </div>
                        <div class="flex row-reverse start">
                            <label for="ochoice2">Two</label>
                            <input type="radio" name="Other Choice" id="ochoice2" value="Two" aria-role="radio" tabindex="0">
                        </div>
                    </fieldset>

                    <div class="flex column">
                        <label for="select-one">Select</label>
                        <select id="select-one">
                            <option disabled selected></option>
                            <option>one</option>
                            <option>two</option>
                            <option>three</option>
                        </select>
                    </div>

                    <div class="flex column">
                        <label for="favorite-color">Fav Color</label>
                        <input name="Favorite Color" id="favorite-color" list="fav-colors" placeholder="Favorite Color">
                        <datalist id="fav-colors">
                            <option>red</option>
                            <option>blue</option>
                            <option>green</option>
                            <option>yellow</option>
                        </datalist>
                    </div>

                    <div class="flex column">
                        <label for="multi-choices">Multiple Choice</label>
                        <select multiple name="Multi Choices" id="multi-choices">
                            <option>One</option>
                            <option selected>Two</option>
                            <option>Three</option>
                        </select>
                    </div>

                    <div class="flex center">
                        <button type="submit" class="primary">Submit</button>
                        <button type="reset" class="secondary">Reset</button>
                    </div>
                </form>

                <sliding-doors slot="waiting" theme="auto" style="height:100%">
                    <wijit-icon01 animate color="lime" slot="effect">
                        <b>Check out this eye candy<br>while you wait</b>
                    </wijit-icon01>
                </sliding-doors>

                <div slot="success"><h1>Hi {{Name}}</h1><p>Thanks for sharing! Here is what you submitted:</p><pre>{{data}}</pre></div>

                <div slot="error">
                    <h1>Oopsie!</h1>
                    <p>There was an error. Please get help from someone who has a clue.</p>
                </div>
            </wijit-form>
        </article>
    </section> -->
</body>
</html>
